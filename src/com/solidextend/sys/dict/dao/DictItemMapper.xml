<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.solidextend.sys.dict.dao.DictItemMapper">
	<resultMap id="BaseResultMap" type="com.solidextend.sys.dict.vo.DictItem">
		<id column="ID" property="id" jdbcType="VARCHAR" />
		<result column="ITEM_CODE" property="itemCode" jdbcType="VARCHAR" />
		<result column="ITEM_NAME" property="itemName" jdbcType="OTHER" />
		<result column="DICT_ID" property="dictId" jdbcType="VARCHAR" />
		<result column="ORDER_NO" property="orderNo" jdbcType="DECIMAL" />
		<result column="JIANPIN" property="jianpin" jdbcType="VARCHAR" />
		<result column="DELETED" property="deleted" jdbcType="VARCHAR" />
	</resultMap>

	<select id="getById" resultMap="BaseResultMap" parameterType="java.lang.String">
		select * from SYS_DICT_ITEM where ID = #{id,jdbcType=VARCHAR}
	</select>

	<select id="findAll" resultMap="BaseResultMap">
		select * from SYS_DICT_ITEM where DELETED = '0' ORDER BY ORDER_NO
	</select>

	<select id="find" resultMap="BaseResultMap"
		parameterType="com.solidextend.sys.dict.vo.DictItem">
		select * from SYS_DICT_ITEM
		<where>
			DELETED = '0'
			<if test="itemCode != null and itemCode!='' ">
				AND ITEM_CODE = #{itemCode,jdbcType=VARCHAR}
			</if>
			<if test="itemName != null and itemName !='' ">
				AND ITEM_NAME like #{itemName,jdbcType=OTHER}
			</if>
			<if test="dictId != null and dictId!='' ">
				AND DICT_ID = #{dictId,jdbcType=VARCHAR}
			</if>
			<if test="jianpin != null and jianpin!='' ">
				AND JIANPIN like #{jianpin,jdbcType=VARCHAR}
			</if>
			ORDER BY ORDER_NO
		</where>
	</select>

	<select id="findByDictCode" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		SELECT
		di.*
		FROM
		SYS_DICT_ITEM di
		JOIN
		SYS_DICT d
		ON
		d.id = di.DICT_ID
		WHERE
		d.DICT_CODE = #{dictCode,jdbcType=VARCHAR}
		AND di.DELETED = '0'
		ORDER BY di.ORDER_NO
	</select>

	<select id="findMaxOrderNo" resultType="integer" parameterType="java.lang.String">
		SELECT
		MAX(order_no)
		FROM
		SYS_DICT_ITEM
		WHERE
		DICT_ID = #{dictId,jdbcType=VARCHAR}
		AND DELETED = '0'
	</select>


	<delete id="deleteById" parameterType="java.lang.String">
		delete from SYS_DICT_ITEM where ID = #{id,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.solidextend.sys.dict.vo.DictItem">
		insert into SYS_DICT_ITEM
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				ID,
			</if>
			<if test="itemCode != null">
				ITEM_CODE,
			</if>
			<if test="itemName != null">
				ITEM_NAME,
			</if>
			<if test="dictId != null">
				DICT_ID,
			</if>
			<if test="orderNo != null">
				ORDER_NO,
			</if>
			<if test="jianpin != null">
				JIANPIN,
			</if>
			<if test="deleted != null">
				DELETED,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="itemCode != null">
				#{itemCode,jdbcType=VARCHAR},
			</if>
			<if test="itemName != null">
				#{itemName,jdbcType=OTHER},
			</if>
			<if test="dictId != null">
				#{dictId,jdbcType=VARCHAR},
			</if>
			<if test="orderNo != null">
				#{orderNo,jdbcType=DECIMAL},
			</if>
			<if test="jianpin != null">
				#{jianpin,jdbcType=VARCHAR},
			</if>
			<if test="deleted != null">
				#{deleted,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<update id="updateById" parameterType="com.solidextend.sys.dict.vo.DictItem">
		update SYS_DICT_ITEM
		<set>
			<if test="itemCode != null">
				ITEM_CODE = #{itemCode,jdbcType=VARCHAR},
			</if>
			<if test="itemName != null">
				ITEM_NAME = #{itemName,jdbcType=OTHER},
			</if>
			<if test="dictId != null">
				DICT_ID = #{dictId,jdbcType=VARCHAR},
			</if>
			<if test="orderNo != null">
				ORDER_NO = #{orderNo,jdbcType=DECIMAL},
			</if>
			<if test="jianpin != null">
				JIANPIN = #{jianpin,jdbcType=VARCHAR},
			</if>
			<if test="deleted != null">
				DELETED = #{deleted,jdbcType=VARCHAR},
			</if>
		</set>
		where ID = #{id,jdbcType=VARCHAR}
	</update>
</mapper>